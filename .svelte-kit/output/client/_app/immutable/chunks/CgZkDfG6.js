import{a1 as E,a2 as J,a3 as Q,C as R,a4 as W,g as I,a5 as g,b as P,a6 as L,z as X,a7 as k,a8 as x,N as p,e as ee,h as q,j as ae,_ as ne,a9 as re,H as te,l as ie,f as fe,o as M,v as C,w as $,x as H,q as se,aa as ue,ab as le,$ as z,B as Z,ac as ve,ad as ce,Y as F,k as _e,ae as de,af as be,V as G,ag as oe,ah as ge,ai as ye,aj as Ie,ak as Pe,al as me,am as Re}from"./mdvGq3lZ.js";import{s as Se,g as we}from"./CWuZ4Z7h.js";function h(a,l=null,v){if(typeof a!="object"||a===null||E in a)return a;const f=x(a);if(f!==J&&f!==Q)return a;var i=new Map,c=p(a),o=R(0);c&&i.set("length",R(a.length));var y;return new Proxy(a,{defineProperty(s,e,n){(!("value"in n)||n.configurable===!1||n.enumerable===!1||n.writable===!1)&&k();var t=i.get(e);return t===void 0?(t=R(n.value),i.set(e,t)):P(t,h(n.value,y)),!0},deleteProperty(s,e){var n=i.get(e);if(n===void 0)e in s&&i.set(e,R(g));else{if(c&&typeof e=="string"){var t=i.get("length"),r=Number(e);Number.isInteger(r)&&r<t.v&&P(t,r)}P(n,g),K(o)}return!0},get(s,e,n){var b;if(e===E)return a;var t=i.get(e),r=e in s;if(t===void 0&&(!r||(b=L(s,e))!=null&&b.writable)&&(t=R(h(r?s[e]:g,y)),i.set(e,t)),t!==void 0){var u=I(t);return u===g?void 0:u}return Reflect.get(s,e,n)},getOwnPropertyDescriptor(s,e){var n=Reflect.getOwnPropertyDescriptor(s,e);if(n&&"value"in n){var t=i.get(e);t&&(n.value=I(t))}else if(n===void 0){var r=i.get(e),u=r==null?void 0:r.v;if(r!==void 0&&u!==g)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return n},has(s,e){var u;if(e===E)return!0;var n=i.get(e),t=n!==void 0&&n.v!==g||Reflect.has(s,e);if(n!==void 0||X!==null&&(!t||(u=L(s,e))!=null&&u.writable)){n===void 0&&(n=R(t?h(s[e],y):g),i.set(e,n));var r=I(n);if(r===g)return!1}return t},set(s,e,n,t){var S;var r=i.get(e),u=e in s;if(c&&e==="length")for(var b=n;b<r.v;b+=1){var m=i.get(b+"");m!==void 0?P(m,g):b in s&&(m=R(g),i.set(b+"",m))}r===void 0?(!u||(S=L(s,e))!=null&&S.writable)&&(r=R(void 0),P(r,h(n,y)),i.set(e,r)):(u=r.v!==g,P(r,h(n,y)));var d=Reflect.getOwnPropertyDescriptor(s,e);if(d!=null&&d.set&&d.set.call(t,n),!u){if(c&&typeof e=="string"){var N=i.get("length"),O=Number(e);Number.isInteger(O)&&O>=N.v&&P(N,O+1)}K(o)}return!0},ownKeys(s){I(o);var e=Reflect.ownKeys(s).filter(r=>{var u=i.get(r);return u===void 0||u.v!==g});for(var[n,t]of i)t.v!==g&&!(n in s)&&e.push(n);return e},setPrototypeOf(){W()}})}function K(a,l=1){P(a,a.v+l)}function V(a){return a!==null&&typeof a=="object"&&E in a?a[E]:a}function Oe(a,l){return Object.is(V(a),V(l))}function Te(a,l,[v,f]=[0,0]){q&&v===0&&ae();var i=a,c=null,o=null,y=g,s=v>0?ne:0,e=!1;const n=(r,u=!0)=>{e=!0,t(u,r)},t=(r,u)=>{if(y===(y=r))return;let b=!1;if(q&&f!==-1){if(v===0){const d=i.data;d===re?f=0:d===te?f=1/0:(f=parseInt(d.substring(1)),f!==f&&(f=y?1/0:-1))}const m=f>v;!!y===m&&(i=ie(),fe(i),M(!1),b=!0,f=-1)}y?(c?C(c):u&&(c=$(()=>u(i))),o&&H(o,()=>{o=null})):(o?C(o):u&&(o=$(()=>u(i,[v+1,f]))),c&&H(c,()=>{c=null})),b&&M(!0)};ee(()=>{e=!1,l(n),e||t(null,null)},s),q&&(i=se)}let D=!1,U=Symbol();function Ae(a,l,v){const f=v[l]??(v[l]={store:null,source:Z(void 0),unsubscribe:z});if(f.store!==a&&!(U in v))if(f.unsubscribe(),f.store=a??null,a==null)f.source.v=void 0,f.unsubscribe=z;else{var i=!0;f.unsubscribe=Se(a,c=>{i?f.source.v=c:P(f.source,c)}),i=!1}return a&&U in v?we(a):I(f.source)}function De(){const a={};function l(){ue(()=>{for(var v in a)a[v].unsubscribe();le(a,U,{enumerable:!1,value:!0})})}return[a,l]}function he(a){var l=D;try{return D=!1,[a(),D]}finally{D=l}}function Le(a,l,v,f){var B;var i=(v&Pe)!==0,c=!ye||(v&Ie)!==0,o=(v&oe)!==0,y=(v&me)!==0,s=!1,e;o?[e,s]=he(()=>a[l]):e=a[l];var n=E in a||ge in a,t=o&&(((B=L(a,l))==null?void 0:B.set)??(n&&l in a&&(_=>a[l]=_)))||void 0,r=f,u=!0,b=!1,m=()=>(b=!0,u&&(u=!1,y?r=G(f):r=f),r);e===void 0&&f!==void 0&&(t&&c&&ve(),e=m(),t&&t(e));var d;if(c)d=()=>{var _=a[l];return _===void 0?m():(u=!0,b=!1,_)};else{var N=(i?F:_e)(()=>a[l]);N.f|=ce,d=()=>{var _=I(N);return _!==void 0&&(r=void 0),_===void 0?r:_}}if((v&de)===0)return d;if(t){var O=a.$$legacy;return function(_,w){return arguments.length>0?((!c||!w||O||s)&&t(w?d():_),_):d()}}var S=!1,Y=!1,A=Z(e),T=F(()=>{var _=d(),w=I(A);return S?(S=!1,Y=!0,w):(Y=!1,A.v=_)});return i||(T.equals=be),function(_,w){if(Re!==null&&(S=Y,d(),I(A)),arguments.length>0){const j=w?I(T):c&&o?h(_):_;return T.equals(j)||(S=!0,P(A,j),b&&r!==void 0&&(r=j),G(()=>I(T))),_}return I(T)}}export{Te as a,Ae as b,h as c,Oe as i,Le as p,De as s};
